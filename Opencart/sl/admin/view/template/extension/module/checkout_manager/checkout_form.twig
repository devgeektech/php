{{ header }}{{ column_left }}
<div id="content">
    <div class="page-header">
        <div class="container-fluid">
            <div class="pull-right">
                <button type="submit" form="form-billing-fields" data-toggle="tooltip" title="{{ button_save }}" class="btn btn-primary"><i class="fa fa-save"></i></button>
                <a href="{{ cancel }}" data-toggle="tooltip" title="{{ button_cancel }}" class="btn btn-default"><i class="fa fa-reply"></i></a>
            </div>
            <h1>{{ heading_title }}</h1>
            <ul class="breadcrumb">
                {% for breadcrumb in breadcrumbs %}
                    <li><a href="{{ breadcrumb.href }}">{{ breadcrumb.text }}</a></li>
                {% endfor %}
            </ul>
        </div>
    </div>
    <div class="container-fluid">
        {% if error_warning %}
            <div class="alert alert-danger"><i class="fa fa-exclamation-circle"></i> {{ error_warning }}
                <button type="button" class="close" data-dismiss="alert">&times;</button>
            </div>
        {% endif %}
        <div class="panel panel-default">
            <div class="panel-heading">
                <h3 class="panel-title"><i class="fa fa-pencil"></i> {{ text_form }}</h3>
            </div>
            <div class="panel-body">
                <form action="{{ action }}" method="post" enctype="multipart/form-data" id="form-billing-fields" class="form-horizontal">
                    
                    <ul class="nav nav-tabs">
                        <li class="active"><a href="#tab-general" data-toggle="tab">{{ tab_general }}</a></li>
                        {% if field_info['field_input_type'] != 'password' %}
                            <li><a href="#tab-field-rules" data-toggle="tab">{{ tab_field_rules }}</a></li>
                        {% endif %}
                    </ul>
                    <div class="tab-content">
                        <div class="tab-pane active in" id="tab-general">
                            
                            {% if edit_field_id %}
                                <input type="hidden" name="pre_defined_field_name" value="{{ field_info['field_name'] }}"> 
                                <input type="hidden" name="field_existance" value="{{ field_info['field_existance'] }}"> 
                            {% endif %}

                            <div class="form-group">
                                    {% if ( (field_info.field_existance is defined) and (field_info.field_existance == 'default') ) %}
                                        <div class="col-sm-3"></div>
                                        <div class="col-sm-9"><p class="alert alert-info"><i class="fa fa-info-circle"></i> You can't change field type when editing <b>Default</b> field.</p></div>
                                    {% endif %}
                                <label class="col-sm-3 control-label" for="field-type">{{ entry_field }}</label>
                                <div class="col-sm-9">
                                    <select name="field_type" id="field-type" class="form-control" onchange ="getReletedFields(this.value);" {{ field_info.field_existance == 'default' ? 'disabled="disabled"' : '' }}>
                                        <optgroup label="Choose">
                                            <option value="select" {{ ((field_info['field_input_type'] is defined) and (field_info['field_input_type'] == 'select')) ? 'selected' : '' }} >Select</option>
                                            <option value="multi-select" {{ (field_info['field_input_type'] is defined and field_info['field_input_type'] == 'multi-select') ? 'selected' : '' }} >Multi-Select</option>
                                            <option value="radio" {{ (field_info['field_input_type'] is defined and field_info['field_input_type'] == 'radio') ? 'selected' : '' }} >Radio</option>
                                            <option value="checkbox" {{ (field_info['field_input_type'] is defined and field_info['field_input_type'] == 'checkbox') ? 'selected' : '' }} >Checkbox</option>
                                            <!-- <option value="image" {{ (field_info['field_input_type'] is defined and field_info['field_input_type'] == 'image') ? 'selected' : '' }} >Image</option> -->
                                        </optgroup>
                                        <optgroup label="Input">
                                            <option value="text" {{ (field_info['field_input_type'] is defined and field_info['field_input_type'] == 'text') ? 'selected' : '' }} >Text</option>
                                            <option value="textarea" {{ (field_info['field_input_type'] is defined and field_info['field_input_type'] == 'textarea') ? 'selected' : '' }} >Textarea</option>

                                            {% if ( (field_info['field_input_type'] is defined) and (field_info['field_input_type'] == 'password') ) %}
                                                    <option value="password" selected="selected" >Password</option>
                                            {% endif %}
                                        </optgroup>
                                        <!-- <optgroup label="File">
                                            <option value="file" {{ (field_info['field_input_type'] is defined and field_info['field_input_type'] == 'file') ? 'selected' : '' }} >File</option>
                                        </optgroup> -->
                                        <optgroup label="Date">
                                            <option value="date" {{ (field_info['field_input_type'] is defined and field_info['field_input_type'] == 'date') ? 'selected' : '' }} >Date</option>
                                            <option value="time" {{ (field_info['field_input_type'] is defined and field_info['field_input_type'] == 'time') ? 'selected' : '' }} >Time</option>
                                            <option value="datetime" {{ (field_info['field_input_type'] is defined and field_info['field_input_type'] == 'datetime') ? 'selected' : '' }} >Date &amp; Time</option>
                                        </optgroup>
                                    </select>
                                </div>
                            </div>
                                                
                            <div class="form-group required">
                                <label class="col-sm-3 control-label" for="field-label">{{ entry_field_label }}</label>
                                <div class="col-sm-9">
                                    <input type="text" name="field_label" value="{{ (field_info['field_label'] is not empty) ? field_info['field_label'] : '' }}" placeholder="{{ entry_field_label }}" id="field-label" class="form-control" />
                                    {% if (var_error_limit is not empty and var_error_limit is not null) %}
                                        <div class="text-danger">{{ var_error_limit }}</div>
                                    {% endif %}
                                    {% if (error_columns_exists is not empty and error_columns_exists is not null) %}
                                        <div class="text-danger">{{ error_columns_exists }}</div>
                                    {% endif %}
                                </div>
                            </div>

                            {% if (field_info is not empty and field_info['field_name'] == 'country_id' or  field_info['field_name'] == 'zone_id')  %}
                                <!-- show nothing -->
                            {% else %}
                                <div class="form-group required select-box-option" id="select-box-option" style="display: none;">
                                    
                                    <label class="col-sm-3 control-label option-checkbox-radio" for="option-name">Create Options</label>
                                    <div id="custom-options" class="col-sm-9">
                                        <!-- error text -->
                                        {% if var_error_option_name_empty is not empty %}
                                            <div class="text-danger">{{ var_error_option_name_empty }}</div>
                                        {% endif %}

                                        {% if var_error_option_value_empty is not empty %}
                                            <div class="text-danger">{{ var_error_option_value_empty }}</div>
                                        {% endif %}

                                        {% if var_error_options is not empty %}
                                            <div class="text-danger">{{ var_error_options }}</div>
                                        {% endif %}

                                        <table id="filter" class="table table-striped table-bordered table-hover">
                                            <thead>
                                                <tr>
                                                    <td>Option Name</td>
                                                    <td>Option Value</td>
                                                    <td>Default Selected</td>
                                                    <td></td>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                {% if field_info['options'] %}
                                                    {% set inc = 10001 %}
                                                    {% for value in field_info['options'] %}
                                                        
                                                        <tr id="custom-options-fields_{{ inc }}">
                                                            <td>
                                                                <input type="text" name="options[{{ inc }}][option_name]" value="{{ value['op_name'] }}" placeholder="Write Name" id="option-name" class="form-control" />
                                                            </td>
                                                            <td>
                                                                <input type="text" name="options[{{ inc }}][option_value]" value="{{ value['op_value'] }}" placeholder="Write Value" id="option-value" class="form-control" />
                                                            </td>
                                                            <td>
                                                                <input onclick="getID({{ inc }})"
                                                                    type="checkbox"
                                                                    name="options[{{ inc }}][default_value]"
                                                                    class="option-default-value-{{ inc }}" value="selected"
                                                                    {{ (value.default_value == 'selected') ? 'checked="checked"' : '' }}
                                                                />
                                                            </td>
                                                            <td>
                                                                <button type="button" data-toggle="tooltip" title="Remove Option" class="btn btn-danger" onclick="removeOption('{{ inc }}');"><i class="fa fa-minus"></i></button>
                                                            </td>
                                                        </tr>

                                                        {% set inc = inc+1 %}
                                                    {% endfor %}
                                                {% endif %}
                                                <tr id="add-new-row">
                                                    <td colspan="4" class="text-right">
                                                        <button type="button" onclick="addNewOption();" data-toggle="tooltip" title="Add Fields" class="btn btn-primary"><i class="fa fa-plus-circle"></i></button>
                                                    </td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                            {% endif %}
                                                
                            <div class="form-group">
                                <label class="col-sm-3 control-label" for="field-width">{{ entry_field_width }}</label>
                                <div class="col-sm-9">
                                    <input type="text" name="field_width" value="{{ (field_info['field_width'] is not empty) ? field_info['field_width'] : '' }}" placeholder="{{ entry_field_width }}" id="field-width" class="form-control" />
                                </div>
                            </div>
                                                
                            <div class="form-group">
                                <label class="col-sm-3 control-label" for="field-field_condition">
                                    {{ entry_field_condition }}</span>
                                </label>
                                <div class="col-sm-9">
                                    <!-- <select name="field_condition" id="field-field_condition" class="form-control">
                                        <option value="not-required" {{ (field_info['field_condition'] is defined and field_info['field_condition'] == 'not-required') ? 'selected' : '' }} >Not Required</option>
                                        <option value="required" {{ (field_info['field_condition'] is defined and field_info['field_condition'] == 'required') ? 'selected' : '' }} >Required</option>
                                    </select> -->
                                    <div class="well well-sm" style="height: 50px; overflow: auto;">
                                        <div class="checkbox">
                                            <label><input type="checkbox" value="required" name="field_condition" id="field-field_condition" {{ (field_info['field_condition'] is defined and field_info['field_condition'] == 'required') ? 'checked="checked"' : '' }}></label>
                                        </div>
                                    </div>
                                </div>
                            </div>
                                                
                            <div class="form-group">
                                <label class="col-sm-3 control-label" for="field-status">{{ entry_curr_status }}</label>
                                <div class="col-sm-9">
                                    <select name="field_status" id="field-status" class="form-control">
                                        <option value="1" {{ (field_info['status'] is defined and field_info['status'] == 1) ? 'selected' : '' }} >{{ text_enabled }}</option>
                                        <option value="0" {{ (field_info['status'] is defined and field_info['status'] == 0) ? 'selected' : '' }} >{{ text_disabled }}</option>
                                    </select>
                                </div>
                            </div>
                                                
                            <div class="form-group">
                                <label class="col-sm-3 control-label" for="field-sort-order">
                                    <span data-toggle="tooltip" title="{{ note_numeric_values }}">{{ entry_field_sort_order }}</span>
                                </label>
                                <div class="col-sm-9">
                                    <input type="text" name="field_sort_order" value="{{ (field_info['field_sort_order'] is not empty) ? field_info['field_sort_order'] : '' }}" placeholder="{{ entry_field_sort_order }}" id="field-sort-order" class="form-control" />
                                </div>
                            </div>

                            <div class="form-group" id="field-visibility-box">
                                <label class="col-sm-3 control-label" for="field-visibility">
                                    <span data-toggle="tooltip" title="{{ text_field_visibility }}">{{ entry_field_visibility }}</span>
                                </label>
                                <div class="col-sm-9">
                                    <div class="well well-sm" style="height: 80px; overflow: auto;">
                                        <div class="checkbox">
                                            <label><input type="checkbox" name="field_visibility[]" value="1" {{ (field_info['field_visibility'] is not empty and 1 in field_info['field_visibility']) ? 'checked' : '' }}> &nbsp;{{ entry_un_editable }}</label>
                                            <br>
                                            <label><input type="checkbox" name="field_visibility[]" value="2" {{ (field_info['field_visibility'] is not empty and 2 in field_info['field_visibility']) ? 'checked' : '' }}> &nbsp;{{ entry_hide }}</label>
                                        </div>
                                  </div>
                                </div>
                            </div>

                            <div class="form-group">
                                {% if field_info is defined %}
                                    {% if field_info['field_name'] == 'country_id' %}
                                        {% set var1 = 'Show / Hide Country' %}
                                        {% set var2 = 'Postcode & Region' %}
                                    {% elseif field_info['field_name'] == 'postcode' %}
                                        {% set var1 = 'Show / Hide Postcode' %}
                                        {% set var2 = 'Country & Region' %}
                                    {% elseif field_info['field_name'] == 'zone_id' %}
                                        {% set var1 = 'Show / Hide Region' %}
                                        {% set var2 = 'Country & Postcode' %}
                                    {% endif %}
                                    {% if ( field_info.field_existance == 'default' and (field_info['field_name'] == 'country_id' or field_info['field_name'] == 'zone_id' or field_info['field_name'] == 'postcode') ) %}
                                        <div class="col-sm-3"></div>
                                        <div class="col-sm-9">
                                            <div class="alert alert-warning">
                                                <ul style="list-style-type: none;">
                                                    <li><i class="fa fa-exclamation-triangle"></i> <b>To Avoid Error!</b></li>
                                                    <li><ul>
                                                            <li>If you want to <b>{{ var1 }}</b> field in some forms, then you must make the same changes to <b>{{ var2 }}</b> fields.</li>
                                                    </ul></li>
                                                </ul>
                                            </div>
                                        </div>
                                    {% endif %}
                                {% endif %}

                                <label class="col-sm-3 control-label" for="input-sort-order">
                                    <span data-toggle="tooltip" title="{{ text_field_show }}">{{ entry_field_to_show }}</span>
                                </label>
                                <div class="col-sm-9">
                                    <div class="well well-sm" style="height: 180px; overflow: auto;">
                                        <div class="checkbox">
                                            {% if field_info is defined %}
                                                {% if (field_info['field_name'] == 'email' or field_info['field_name'] == 'telephone') %}
                                                        <!-- when you edit email, only two option to choose -->
                                                        <label><input type="checkbox" name="field_to_show[]" value="5" {{ (field_info['field_to_show'] is not empty and 5 in field_info['field_to_show']) ? 'checked="checked"' : '' }} /> &nbsp;Register User</label>
                                                        <br>
                                                        <label><input type="checkbox" name="field_to_show[]" value="6" {{ (field_info['field_to_show'] is not empty and 6 in field_info['field_to_show']) ? 'checked="checked"' : '' }} /> &nbsp;Guest Payment Section</label>

                                                {% elseif (field_info['field_name'] == 'password' or field_info['field_name'] == 'confirm') %}
                                                        <!-- when edit password, only one option -->
                                                        <label><input type="checkbox" name="field_to_show[]" value="5" {{ (field_info['field_to_show'] is not empty and 5 in field_info['field_to_show']) ? 'checked="checked"' : '' }} /> &nbsp;Register User</label>

                                                {% else %}
                                                        <!-- else all option -->
                                                        <label><input type="checkbox" name="field_to_show[]" value="1" {{ (field_info['field_to_show'] is not empty and 1 in field_info['field_to_show']) ? 'checked="checked"' : '' }} /> &nbsp;{{ entry_billing_details }}</label>
                                                        <br>
                                                        <label><input type="checkbox" name="field_to_show[]" value="2" {{ (field_info['field_to_show'] is not empty and 2 in field_info['field_to_show']) ? 'checked="checked"' : '' }} /> &nbsp;{{ entry_delivery_details }}</label>

                                                        <!-- Do not show these two checkbox when editing default fields -->
                                                        {% if (field_info['field_existance'] == 'custom') %}
                                                            <br>
                                                            <label><input type="checkbox" name="field_to_show[]" value="3" {{ (field_info['field_to_show'] is not empty and 3 in field_info['field_to_show']) ? 'checked="checked"' : '' }} /> &nbsp;{{ entry_delivery_method }}</label>
                                                            <br>
                                                            <label><input type="checkbox" name="field_to_show[]" value="4" {{ (field_info['field_to_show'] is not empty and 4 in field_info['field_to_show']) ? 'checked="checked"' : '' }} /> &nbsp;{{ entry_payment_method }}</label>
                                                        {% endif %}

                                                        <br>
                                                        <label><input type="checkbox" name="field_to_show[]" value="5" {{ (field_info['field_to_show'] is not empty and 5 in field_info['field_to_show']) ? 'checked="checked"' : '' }} /> &nbsp;Register User</label>
                                                        <br>
                                                        <label><input type="checkbox" name="field_to_show[]" value="6" {{ (field_info['field_to_show'] is not empty and 6 in field_info['field_to_show']) ? 'checked="checked"' : '' }} /> &nbsp;Guest Payment Section</label>
                                                        <br>
                                                        <label><input type="checkbox" name="field_to_show[]" value="7" {{ (field_info['field_to_show'] is not empty and 7 in field_info['field_to_show']) ? 'checked="checked"' : '' }} /> &nbsp;Guest Shipping Section</label>
                                                        <br>
                                                        <label><input type="checkbox" name="field_to_show[]" value="8" {{ (field_info['field_to_show'] is not empty and 8 in field_info['field_to_show']) ? 'checked="checked"' : '' }} /> &nbsp;Account Address Section</label>
                                                {% endif %}

                                                <!-- when create new field, below code to run -->
                                            {% else %}
                                                    <label><input type="checkbox" name="field_to_show[]" value="1" {{ (field_info['field_to_show'] is not empty and 1 in field_info['field_to_show']) ? 'checked="checked"' : '' }} /> &nbsp;{{ entry_billing_details }}</label>
                                                    <br>
                                                    <label><input type="checkbox" name="field_to_show[]" value="2" {{ (field_info['field_to_show'] is not empty and 2 in field_info['field_to_show']) ? 'checked="checked"' : '' }} /> &nbsp;{{ entry_delivery_details }}</label>
                                                    <br>
                                                    <label><input type="checkbox" name="field_to_show[]" value="3" {{ (field_info['field_to_show'] is not empty and 3 in field_info['field_to_show']) ? 'checked="checked"' : '' }} /> &nbsp;{{ entry_delivery_method }}</label>
                                                    <br>
                                                    <label><input type="checkbox" name="field_to_show[]" value="4" {{ (field_info['field_to_show'] is not empty and 4 in field_info['field_to_show']) ? 'checked="checked"' : '' }} /> &nbsp;{{ entry_payment_method }}</label>
                                                    <br>
                                                    <label><input type="checkbox" name="field_to_show[]" value="5" {{ (field_info['field_to_show'] is not empty and 5 in field_info['field_to_show']) ? 'checked="checked"' : '' }} /> &nbsp;Register User</label>
                                                    <br>
                                                    <label><input type="checkbox" name="field_to_show[]" value="6" {{ (field_info['field_to_show'] is not empty and 6 in field_info['field_to_show']) ? 'checked="checked"' : '' }} /> &nbsp;Guest Payment Section</label>
                                                    <br>
                                                    <label><input type="checkbox" name="field_to_show[]" value="7" {{ (field_info['field_to_show'] is not empty and 7 in field_info['field_to_show']) ? 'checked="checked"' : '' }} /> &nbsp;Guest Shipping Section</label>
                                                    <br>
                                                    <label><input type="checkbox" name="field_to_show[]" value="8" {{ (field_info['field_to_show'] is not empty and 8 in field_info['field_to_show']) ? 'checked="checked"' : '' }} /> &nbsp;Account Address Section</label>
                                            {% endif %}

                                        </div>
                                  </div>
                                </div>
                            </div>
                        </div><!-- /- end general tab -->

                        <div class="tab-pane fade" id="tab-field-rules">
                            <table id="filter" class="table table-striped table-bordered table-hover">
                                <tbody>
                                    <tr>
                                        <td class="text-center">{{ text_filters_conjunction }}</td>
                                        <td class="text-center">
                                            <select class="form-control text-center" name="filter_conjunction" id="filter-conjunction">
                                                <!-- <option value="AND" selected>{{ text_and }}</option> -->
                                                <option value="OR">{{ text_or }}</option>
                                            </select>
                                        </td>
                                        <td class="text-center" colspan="4">
                                            <p style="font-size: 12px;">{{ text_filter_tip }}</p>
                                        </td> 
                                    </tr>
                                </tbody>
                                {% if (field_rules is defined and field_rules is not empty) %}
                                    <tbody id="filter-row">
                                        {% for rule in field_rules %}

                                            {% if (rule['parameter'] == 'product_name') %}
                                                <tr>
                                                    <td class="text-center" colspan="2">
                                                        <select class="filter_result form-control text-center" name="filter_result[products][parameter]">
                                                            <option value="product_name">{{ text_products }}</option>
                                                        </select>
                                                    </td>
                                                    <td class="text-center">
                                                        <select class="form-control my-select2-products" name="filter_result[products][products_id][]" multiple="multiple">
                                                            {% if products is defined %}
                                                                {% for value in products %}
                                                                    <option
                                                                        value="{{ value['product_id'] }}"
                                                                        {% if (rule['value'] is defined and rule['value'] is not empty) %}
                                                                            {{ (value['product_id'] in rule['value']) ? 'selected="selected"' : '' }}
                                                                        {% endif %}
                                                                    >{{ value['name'] }}</option>
                                                                {% endfor %}
                                                            {% endif %}
                                                        </select>
                                                    </td>
                                                </tr>
                                            {% endif %}

                                            {% if rule['parameter'] == 'category_name' %}
                                                <tr>
                                                    <td class="text-center" colspan="2">
                                                        <select class="filter_result form-control text-center" name="filter_result[categories][parameter]">
                                                            <option value="category_name">{{ text_categories }}</option>
                                                        </select>
                                                    </td>
                                                    <td class="text-center">
                                                        <select class="my-select2-categories" name="filter_result[categories][categories_id][]" multiple="multiple">
                                                            {% if categories is defined %}
                                                                {% for value in categories %}
                                                                    <option
                                                                        value="{{ value['category_id'] }}"
                                                                        {% if (rule['value'] is defined and rule['value'] is not empty) %}
                                                                            {{ (value['category_id'] in rule['value']) ? 'selected="selected"' : '' }}
                                                                        {% endif %}
                                                                    >{{ value['name'] }}</option>
                                                                {% endfor %}
                                                            {% endif %}
                                                        </select>
                                                    </td>
                                                </tr>
                                            {% endif %}

                                            {% if (rule['parameter'] == 'cart_total') %}
                                                <tr>
                                                    <td class="text-center" colspan="2">
                                                        <select class="filter_result form-control text-center" name="filter_result[cart_total][parameter]">
                                                            <option value="cart_total">{{ text_cart_total }}</option>
                                                        </select>
                                                    </td>
                                                    <td class="text-center">
                                                        <input type="text" class="form-control" name="filter_result[cart_total][amount]" placeholder="Cart Total" value="{{ (rule['value'] is not null) ? rule['value'] : '' }}">
                                                    </td>
                                                </tr>
                                            {% endif %}

                                            {% if (rule['parameter'] == 'cart_items') %}
                                                <tr>
                                                    <td class="text-center" colspan="2">
                                                        <select class="filter_result form-control text-center" name="filter_result[cart_items][parameter]">
                                                            <option value="cart_items">{{ text_cart_items }}</option>
                                                        </select>
                                                    </td>
                                                    <td class="text-center">
                                                        <input type="text" class="form-control" name="filter_result[cart_items][items]" placeholder="Cart Items" value="{{ (rule['value'] is not null) ? rule['value'] : '' }}">
                                                    </td>
                                                </tr>
                                            {% endif %}

                                            {% if (rule['parameter'] == 'customer_groups') %}
                                                <tr>
                                                    <td class="text-center" colspan="2">
                                                        <select class="filter_result form-control text-center" name="filter_result[customer_groups][parameter]">
                                                            <option value="customer_groups">{{ text_customer_groups }}</option>
                                                        </select>
                                                    </td>
                                                    <td class="text-center">
                                                        <select class="my-select2-customer-groups" name="filter_result[customer_groups][groups][]" multiple="multiple">
                                                            {% if customer_groups is defined %}
                                                                {% for value in customer_groups %}
                                                                    <option
                                                                        value="{{ value['customer_group_id'] }}"
                                                                        {% if (rule['value'] is defined and rule['value'] is not empty) %}
                                                                            {{ (value['customer_group_id'] in rule['value']) ? 'selected="selected"' : '' }}
                                                                        {% endif %}
                                                                    >{{ value['name'] }}</option>
                                                                {% endfor %}
                                                            {% endif %}
                                                        </select>
                                                    </td>
                                                </tr>
                                            {% endif %}
                                        {% endfor %}
                                    </tbody>
                                {% else %}
                                    <tbody id="filter-row">
                                        <tr>
                                            <td class="text-center" colspan="2">
                                                <select class="filter_result form-control text-center" name="filter_result[products][parameter]">
                                                    <option value="product_name">{{ text_products }}</option>
                                                </select>
                                            </td>
                                            <td class="text-center">
                                                <select class="form-control my-select2-products" name="filter_result[products][products_id][]" multiple="multiple">
                                                    {% if products is defined %}
                                                        {% for value in products %}
                                                            <option value="{{ value['product_id'] }}">{{ value['name'] }}</option>
                                                        {% endfor %}
                                                    {% endif %}
                                                </select>
                                            </td>
                                        </tr>

                                        <tr>
                                            <td class="text-center" colspan="2">
                                                <select class="filter_result form-control text-center" name="filter_result[categories][parameter]">
                                                    <option value="category_name">{{ text_categories }}</option>
                                                </select>
                                            </td>
                                            <td class="text-center">
                                                <select class="my-select2-categories" name="filter_result[categories][categories_id][]" multiple="multiple">
                                                    {% if categories is defined %}
                                                        {% for value in categories %}
                                                            <option value="{{ value['category_id'] }}">{{ value['name'] }}</option>
                                                        {% endfor %}
                                                    {% endif %}
                                                </select>
                                            </td>
                                        </tr>

                                        <tr>
                                            <td class="text-center" colspan="2">
                                                <select class="filter_result form-control text-center" name="filter_result[cart_total][parameter]">
                                                    <option value="cart_total">{{ text_cart_total }}</option>
                                                </select>
                                            </td>
                                            <td class="text-center">
                                                <input type="text" class="form-control" name="filter_result[cart_total][amount]" placeholder="Cart Total">
                                            </td>
                                        </tr>

                                        <tr>
                                            <td class="text-center" colspan="2">
                                                <select class="filter_result form-control text-center" name="filter_result[cart_items][parameter]">
                                                    <option value="cart_items">{{ text_cart_items }}</option>
                                                </select>
                                            </td>
                                            <td class="text-center">
                                                <input type="text" class="form-control" name="filter_result[cart_items][items]" placeholder="Cart Items">
                                            </td>
                                        </tr>

                                        <tr>
                                            <td class="text-center" colspan="2">
                                                <select class="filter_result form-control text-center" name="filter_result[customer_groups][parameter]">
                                                    <option value="customer_groups">{{ text_customer_groups }}</option>
                                                </select>
                                            </td>
                                            <td class="text-center">
                                                <select class="my-select2-customer-groups" name="filter_result[customer_groups][groups][]" multiple="multiple">
                                                    {% if customer_groups is defined %}
                                                        {% for value in customer_groups %}
                                                            <option value="{{ value['customer_group_id'] }}">{{ value['name'] }}</option>
                                                        {% endfor %}
                                                    {% endif %}
                                                </select>
                                            </td>
                                        </tr>
                                    </tbody>
                                {% endif %}

                            </table>
                        </div>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>

<!-- Scripts for Product Filters -->

<script type="text/javascript"><!--
    function getReletedFields(value) {
        // alert(value);
        if (value=='select' || value=='multi-select') {
            $('.option-checkbox-radio').html('Create Options');
            $('.select-box-option').fadeIn();
            $('#field-visibility-box').hide();
        } else if (value=='radio') {
            $('.option-checkbox-radio').html('Create Radio Button');
            $('.select-box-option').fadeIn();
            $('#field-visibility-box').hide();
        } else if (value=='checkbox') {
            $('.option-checkbox-radio').html('Create Checkbox');
            $('.select-box-option').fadeIn();
            $('#field-visibility-box').hide();
        }else{
            $('.select-box-option').fadeOut();
            $('#field-visibility-box').show();
        }
    }
//--></script>

<script type="text/javascript"><!--
    $(document).ready(function() {
        var val = $('#field-type').val();
        if (val=='select' || val=='multi-select') {
            $('.option-checkbox-radio').html('Create Options');
            $('.select-box-option').fadeIn();
            $('#field-visibility-box').hide();
        } else if (val=='radio') {
            $('.option-checkbox-radio').html('Create Radio Buttons');
            $('.select-box-option').fadeIn();
            $('#field-visibility-box').hide();
        } else if (val=='checkbox') {
            $('.option-checkbox-radio').html('Create Checkboxes');
            $('.select-box-option').fadeIn();
            $('#field-visibility-box').hide();
        }else{
            $('.select-box-option').fadeOut();
            $('#field-visibility-box').show();
        }
    });

    var count = 1;
    function addNewOption() {
        html = '<tr id="custom-options-fields_'+count+'">';
            html += '<td class="text-left">'+
                        '<input type="text" name="options['+count+'][option_name]" value="" placeholder="Write Name" id="option-name" class="form-control" />'+
                    '</td>';
            html += '<td class="text-left">'+
                        '<input type="text" name="options['+count+'][option_value]" value="" placeholder="Write Value" id="option-value" class="form-control" />'+
                    '</td>';
            html += '<td class="text-left">'+
                        '<input onclick="getID('+count+')" type="checkbox" name="options['+count+'][default_value]" class="option-default-value-'+count+'" value="selected" />'+
                    '</td>';
            html += '<td class="text-left"><button type="button" data-toggle="tooltip" title="Remove Option" class="btn btn-danger" onclick="removeOption('+count+');"><i class="fa fa-minus"></i></button></td>';
        html += '</tr>';
        
        $('#add-new-row').before(html);
        
        count++;
    }

    function removeOption(value) {
        $('#custom-options-fields_'+value).remove();
    }
    
//--></script>


<script type="text/javascript"><!--
    $(document).ready(function() {
        $('.my-select2-products').select2({
            placeholder:"Search & Select",
            width:"100%",
        });
    });
//--></script>

<script type="text/javascript"><!--
    $(document).ready(function() {
        $('.my-select2-categories').select2({
            placeholder:"Search & Select",
            width:"100%",
        });
    });
//--></script>

<script type="text/javascript"><!--
    $(document).ready(function() {
        $('.my-select2-customer-groups').select2({
            placeholder:"Search & Select",
            width:"100%",
        });
    });
//--></script>

{{ footer }}







